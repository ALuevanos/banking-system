{% extends 'layout.html' %}
{% block content %}
<div class="container mt-5">
  <div class="card p-4">
    <!-- Logo -->
    <div class="text-center mb-3">
      <img src="{{ url_for('static', filename='assets/logo.png') }}" alt="CSUSB Logo" style="width: 100px;">
    </div>

    <!-- Welcome -->
    <h2>Welcome, {{ customer.name }}</h2>
    <p><strong>Email:</strong> {{ customer.email }}</p>
    <hr>

    <!-- Accounts -->
    <h4>Your Accounts</h4>
    {% if customer_accounts %}
      <table class="table table-bordered">
        <thead><tr><th>Account Type</th><th>Balance</th></tr></thead>
        <tbody>
          {% for acc in customer_accounts %}
            <tr>
              <td>{{ acc.account_type }}</td>
              <td>${{ acc.balance }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No accounts found.</p>
    {% endif %}

    <!-- Loans -->
    <h4>Your Loans</h4>
    {% if customer_loans %}
      <table class="table table-bordered">
        <thead><tr><th>Loan ID</th><th>Amount</th><th>Status</th></tr></thead>
        <tbody>
          {% for loan in customer_loans %}
            <tr>
              <td>{{ loan.loan_id }}</td>
              <td>${{ loan.amount }}</td>
              <td>{{ loan.status }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No loans found.</p>
    {% endif %}

    <!-- Action Buttons -->
    <div class="d-flex justify-content-between mt-4">
      <a href="{{ url_for('deposit') }}" class="btn btn-success">Deposit</a>
      <a href="{{ url_for('withdraw') }}" class="btn btn-warning">Withdraw</a>
      <a href="{{ url_for('pay_loan') }}" class="btn btn-info">Pay Loan</a>
    </div>

    <!-- Logout -->
    <a href="{{ url_for('customer_logout') }}" class="btn btn-primary mt-4 w-100">Logout</a>
  </div>
</div>
{% endblock %}
